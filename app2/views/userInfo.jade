doctype html
html
  head
    title= title
    block stylesheets
      link(rel='stylesheet', href='/stylesheets/style.css')
  body
    .dropdown
      h1= title
      .dropdown-content
        p: #[a(href='/') Home] #[a(href='/films') Films] #[a(href='/genres') Genres] #[a(href='/predict') Predict Performance]

  .button_bar
    form(action='/userInfo/' + userId, method='GET')
      label(for='searchQuery') Search Movies:
      input(type='text', name='searchQuery', id='searchQuery', placeholder='Enter movie title...')
      button(type='submit') Search


  .button_bar
    form(action='/userInfo/' + userId + '?searchQuery=' + searchQuery, method='GET')
      input(type='hidden', name='itemNum', value='#{itemNum + 30}')
      button(type='submit') Next Page

  .button_bar
    form(action='/userInfo/' + userId + '?searchQuery=' + searchQuery, method='GET')
      input(type='hidden', name='itemNum', value='#{Math.max(0, itemNum - 30)}')
      button(type='submit') Previous Page


    table
      thead
        tr
          th Movie 
          th Rating 
          th Date
      tbody
        each rating in ratings
          tr(class='row-link', data-url=`/filmInfo/${rating.movieId}`)
            td= rating.title
            td= rating.rating 
            td= rating.watchDate
    
    script.
      document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.row-link').forEach(function(element) {
          element.addEventListener('click', function() {
            const url = this.dataset.url;
            window.location.href = url;
          });
        });
      });